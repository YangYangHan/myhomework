<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
	<style>
		#content {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
        }

        #content p {
          margin: auto;
          margin-top: 20px;
          text-align: center;
        }
        img {
          width: 100px;
        }
	</style>
</head>
<body>
	<p>谁说html5不能横屏的。。。</p>
    <p>我就是要横屏。。。</p>
    <p>要横屏。。。</p>
    <p>横屏。。。</p>
    <p>屏。。。</p>
<script type="text/javascript">
	const width = document.documentElement.clientWidth;
    const height = document.documentElement.clientHeight;
    const contentDOM = document.getElementById('content');
    if (width < height) {
      console.log(width + " " + height);
      contentDOM.style.width = height + 'px';
      contentDOM.style.height = width + 'px';
      contentDOM.style.top = (height - width) / 2 + 'px';
      contentDOM.style.left = 0 - (height - width) / 2 + 'px';
      contentDOM.style.transform = 'rotate(90deg)';
    }
    const evt = "onorientationchange" in window ? "orientationchange" : "resize";
    //判断手机旋转是否打开
    window.addEventListener(evt, function () {
                const width = document.documentElement.clientWidth;
                const height = document.documentElement.clientHeight;
                const contentDOM = document.getElementById('content');
                alert('width: ' + width + ' height: ' + height)
                if (width > height) { // 横屏
                    contentDOM.style.width = width + 'px';
                    contentDOM.style.height = height + 'px';
                    contentDOM.style.top = '0px';
                    contentDOM.style.left = '0px';
                    contentDOM.style.transform = 'none';
                }
                else { 
                  alert('change to portrait')
                    contentDOM.style.width = height + 'px';
                    contentDOM.style.height = width + 'px';
                    contentDOM.style.top = (height - width) / 2 + 'px';
                    contentDOM.style.left = 0 - (height - width) / 2 + 'px';
                    contentDOM.style.transform = 'rotate(90deg)';
                }
              }, false);
</script>
</body>
</html>